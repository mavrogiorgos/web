<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
      integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l"
      crossorigin="anonymous"
    />
    <!-- Bootstrap Icons CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css"
    />

    <title>Bootstrap and Ajax!</title>
  </head>
  <body>
    <div class="container">
      <form class="form-inline">
        <input
          type="number"
          class="form-control"
          id="userId"
          placeholder="Id"
          value="1"
        />
        <button type="button" class="btn btn-primary m-2" onclick="getUser()">
          Get User
        </button>
      </form>
    </div>

    <div class="container">
      <table id="users" class="table table-hover">
        <thead>
          <tr>
            <th>Id</th>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Email</th>
            <th>Avatar</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>

    <script>
      $(function () {});

      function getUser() {
        let userId = $("#userId").val();
        $.get("https://reqres.in/api/users/" + userId).done(function (
          response
        ) {
          console.log(response);
          let user = response.data;
          var markup = `<tr>
          <td class="align-middle">${response.data.id}</td>
          <td class="align-middle">${response.data.first_name}</td>
          <td class="align-middle">${response.data.last_name}</td>
          <td class="align-middle">${response.data.email}</td>
          <td>
            <img src="${response.data.avatar}"
            class="rounded-circle" style="height: 50px;">
          </td>
          <td class="align-middle"><button type='button' onclick='userDelete(this);' class='btn btn-danger'>
          <span class='bi bi-trash' /></button></td>
          </tr>`;
          $("#users tbody").append(markup);
        });
      }
      //function for deleting user from table
      function userDelete(ctl) {
      $(ctl).parents("tr").remove();
      }
    </script>

    <!-- Bootstrap JS libraries -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
